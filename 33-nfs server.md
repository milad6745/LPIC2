# nfs server

Network File System (NFS) یک پروتکل است که به شما این امکان را می‌دهد تا دیسک‌ها و فایل‌های سیستم‌عامل لینوکس را بر روی شبکه به اشتراک بگذارید. در زیر، مراحل نصب و پیکربندی یک سرور NFS بر روی یک سیستم لینوکس (مانند Ubuntu) آورده شده است:

### 1. نصب سرویس NFS:

برای نصب سرویس NFS در Ubuntu:

```bash
sudo apt update
sudo apt install nfs-kernel-server
```

### 2. تنظیمات اولیه:

1. **تعریف مسیر اشتراک:**
   - ایجاد یک مسیر برای اشتراک فایل. به عنوان مثال، می‌توانید یک پوشه به نام "nfs_share" در دسترس قرار دهید:

   ```bash
   sudo mkdir /srv/nfs_share
   ```

2. **تنظیم مجوز دسترسی:**
   - تنظیم مجوز دسترسی برای این پوشه:

   ```bash
   sudo chown nobody:nogroup /srv/nfs_share
   sudo chmod 777 /srv/nfs_share
   ```

### 3. تنظیمات فایل `/etc/exports`:

1. **ویرایش فایل `/etc/exports`:**
   - باز کردن فایل تنظیمات NFS:

   ```bash
   sudo nano /etc/exports
   ```

2. **افزودن تنظیمات:**
   - به انتهای فایل، تنظیمات زیر را اضافه کنید:

   ```plaintext
   /srv/nfs_share  *(rw,sync,no_subtree_check)
   ```

   این تنظیمات مشخص می‌کنند که پوشه "/srv/nfs_share" به همه میزبان‌هایی که به سرور متصل هستند (با هر IP) به عنوان یک فضای اشتراکی با مجوز خواندن و نوشتن (read-write) ارائه شده است.

3. **ذخیره و بستن فایل:**
   - ذخیره تغییرات و بستن فایل تنظیمات.

### 4. اجرای دوباره سرویس NFS:

   ```bash
   sudo systemctl restart nfs-kernel-server
   ```

### 5. تست اتصال:

1. **تست اتصال از میزبان محلی:**
   - از میزبان محلی، اتصال به سرور NFS را تست کنید:

   ```bash
   showmount -e localhost
   ```

2. **تست اتصال از میزبان دیگر:**
   - از یک میزبان دیگر در شبکه، اتصال به سرور NFS را تست کنید:

   ```bash
   showmount -e your_nfs_server_ip
   ```

   حالا می‌توانید از میزبان‌های مختلف به داده‌های موجود در `/srv/nfs_share` دسترسی پیدا کنید.

توجه: این تنظیمات ممکن است بسته به محیط و نیازهای شما تغییر کنند. برای اطلاعات بیشتر و تنظیمات پیشرفته‌تر، به مستندات رسمی NFS مراجعه کنید.
